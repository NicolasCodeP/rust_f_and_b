# Netlify configuration for WASM applications
[build]
publish = "dist"
command = "echo 'Build handled by GitHub Actions - no build needed'"
ignore = "true"                                                      # Skip Netlify's build process

[[headers]]
for = "*.wasm"
[headers.values]
Content-Type = "application/wasm"
Cache-Control = "public, max-age=31536000"

[[headers]]
for = "*.js"
[headers.values]
Cache-Control = "public, max-age=31536000"

[[headers]]
for = "index.html"
[headers.values]
Cache-Control = "public, max-age=0, must-revalidate"

# Enable HTTPS redirect
[[redirects]]
from = "http://rust-f-and-b.netlify.app/*"
to = "https://rust-f-and-b.netlify.app/:splat"
status = 301
force = true

# SPA fallback for client-side routing (if needed in the future)
[[redirects]]
from = "/*"
to = "/index.html"
status = 200
